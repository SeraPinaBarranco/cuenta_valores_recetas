
{% extends 'recetas/recetas_base.html' %}

{% load static %}

{% block title %}
   
    {{ titulo }}
   
{% endblock title %}
    

{% block body %}

    <div class="container c">

        <div class="row">
            <form action="" method="POST">{% csrf_token %}                
                <p>{{ object }}</p>   
                <p><input type="text" name="" id="prod" value=""></p>   
                <button type="submit" class="btn btn-primary">AÃ±adir</button>         
            </form>
        </div>

        <div class="row" >

            <div class="container">
                <select class="js-example-basic-single col-6" name="state" id="state" onchange="mostrar_valor()">
                    {% for p in productos %}
                        <option id="{{ p.pk }}">{{ p|safe }}</option> 
                    {% endfor %}
                </select>
            </div>
           
        </div>

       

    </div>

    
{% endblock body %}


{% block scripts %}

<!--SELECT2-->
<script src="{% static 'scripts/select2/select2.min.js' %}"></script>
<script>
    
    $(document).ready(function() {
        
        $('.js-example-basic-single').select2({

            placeholder: 'Select an option',
            allowClear: true 
        });
        
        var l = "{{ productos|safe }}";
        
        var pp = JSON.parse(l);
        console.log(pp);
    });

    function mostrar_valor(){
            var x = document.getElementById("state");
            var p = document.getElementById("prod");
            p.value = x;
            alert(typeof x);
    };
</script> 

{% endblock scripts %}
    